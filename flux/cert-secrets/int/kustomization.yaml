# certificate secrets backed up from cluster.
# these are restored before cert-manager runs to avoid hitting letsencrypt rate limits.
#
# To backup a certificate:
#   kubectl get secret -n traefik-int letsencrypt-dns-wildcard-cert -o yaml > wildcard-cert.yaml
#   Remove resourceVersion, uid, creationTimestamp, and managedFields
#   sops -e -i wildcard-cert.yaml

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - traefik-namespace.yaml  # creates traefik-int namespace before apps
  - wildcard-cert.yaml
