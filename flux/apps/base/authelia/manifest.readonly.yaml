# Generated with Renderer.sh at 2025-12-29T19:03:24+0100
# Chart version: 0.10.49
# Repo: https://charts.authelia.com
# Chart name: authelia
# Release name: authelia
---
# Source: authelia/templates/secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: authelia
  namespace: authelia
  labels: 
    app.kubernetes.io/name: authelia
    app.kubernetes.io/instance: authelia
    app.kubernetes.io/version: 4.39.13
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: authelia-0.10.49
type: Opaque
data:
    identity_validation.reset_password.jwt.hmac.key: aUV2SWt0Tnp2MUwwalFFSkQxQ3Z6c1B4WmVhOGdNQUhNdHlXMktFaXNpMjlzanB3Tnd0UE9JNmFuY1hTOExubFhSMnNhVlpwRmF2MmgzSWNiRHU3aWw4SFFQUjdvekx1S0VNd093Yjl3UTk4RWFKU3JjOTN1Wm1YTWpYbzNET2I=
    session.encryption.key: UFNMOEMxN2NpUTJKemVKMHlSVzJLdzdoQ05VQnRmdWVhelJpeWxtV3FEeDFOb1lLMWxJbU8ybW1aUEt4NEdwYnZMaVBnaHUzNGdScGkyU2NQaXk2c2J5NUxjN0xLTFliTW1PMTJ3M2hYQzJUSFBuMjBIWURYb2syMEYzNFhsUHU=
    storage.encryption.key: MVFuZnhHeDBkem1pNGRJdnZmODRGRE9DdXA1emtkWXprQnRKYm52cWx3VUpqOUx0SWRmNUdZYzlySzBoUmNLdU91eVFzNlo5MjIxc0w4d0NjaDR3YmU4MDk0R0ZsMWY0OEhkS3E2SzBSSk05V1ZYMVRIQXFwTnZsZDV3TXNSMTk=
---
# Source: authelia/templates/configMap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: authelia
  namespace: authelia
  labels: 
    app.kubernetes.io/name: authelia
    app.kubernetes.io/instance: authelia
    app.kubernetes.io/version: 4.39.13
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: authelia-0.10.49
data:
  configuration.yaml: |
    ---
    # yaml-language-server: $schema=https://www.authelia.com/schemas/v4.39/json-schema/configuration.json
    theme: 'light'
    default_2fa_method: ''
    server:
      address: 'tcp://0.0.0.0:9091/'
      asset_path: ''
      headers:
        csp_template: ""
      buffers:
        read: 4096
        write: 4096
      timeouts:
        read: '6 seconds'
        write: '6 seconds'
        idle: '30 seconds'
      endpoints:
        enable_pprof: false
        enable_expvars: false
        authz:
          auth-request:
            implementation: 'AuthRequest'
          ext-authz:
            implementation: 'ExtAuthz'
          forward-auth:
            implementation: 'ForwardAuth'
    log:
      level: 'info'
      format: 'text'
      file_path: ''
      keep_stdout: true
    telemetry:
      metrics:
        enabled: false
    identity_validation:
      elevated_session:
        code_lifespan: '5 minutes'
        elevation_lifespan: '10 minutes'
        characters: 8
        require_second_factor: false
        skip_second_factor: false
      reset_password:
        jwt_lifespan: '5 minutes'
        jwt_algorithm: 'HS256'
    totp:
      disable: false
      issuer: 'Authelia'
      skew: 1
      secret_size: 32
      algorithm: 'SHA1'
      digits: 6
      period: 30
      allowed_algorithms:
        - 'SHA1'
      allowed_digits:
        - 6
      allowed_periods:
        - 30
    webauthn:
      disable: false
      enable_passkey_login: false
      display_name: 'Authelia'
      attestation_conveyance_preference: 'indirect'
      timeout: '60 seconds'
      filtering:
        permitted_aaguids: []
        prohibited_aaguids: []
        prohibit_backup_eligibility: false
      selection_criteria:
        attachment: ''
        discoverability: 'preferred'
        user_verification: 'preferred'
      metadata:
        enabled: false
        cache_policy: 'strict'
        validate_trust_anchor: true
        validate_entry: true
        validate_entry_permit_zero_aaguid: false
        validate_status: true
        validate_status_permitted: []
        validate_status_prohibited: []
    ntp:
      address: 'udp://time.cloudflare.com:123'
      version: 4
      max_desync: '3 seconds'
      disable_startup_check: false
      disable_failure: false
    authentication_backend:
      password_reset:
        disable: false
        custom_url: ''
      password_change:
        disable: false
      refresh_interval: '5 minutes'
    password_policy:
      standard:
        enabled: false
        min_length: 8
        max_length: 0
        require_uppercase: false
        require_lowercase: false
        require_number: false
        require_special: false
      zxcvbn:
        enabled: false
        min_score: 0
    session:
      name: 'authelia_session'
      same_site: 'lax'
      inactivity: '5 minutes'
      expiration: '1 hour'
      remember_me: '1 month'
      cookies:
    regulation:
      modes:
      - 'user'
      max_retries: 3
      find_time: '2 minutes'
      ban_time: '5 minutes'
    storage:
    notifier:
      disable_startup_check: false
    access_control:
      default_policy: 'two_factor'
    ...
---
# Source: authelia/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: authelia
  namespace: authelia
  labels: 
    app.kubernetes.io/name: authelia
    app.kubernetes.io/instance: authelia
    app.kubernetes.io/version: 4.39.13
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: authelia-0.10.49
spec:
  type: ClusterIP
  sessionAffinity: None
  selector:
    app.kubernetes.io/name: authelia
    app.kubernetes.io/instance: authelia
  ports:
    - name: http
      protocol: TCP
      port: 80
      targetPort: http
---
# Source: authelia/templates/deployment.yaml
apiVersion: apps/v1
kind: DaemonSet
metadata:
  name: authelia
  namespace: authelia
  labels: 
    app.kubernetes.io/name: authelia
    app.kubernetes.io/instance: authelia
    app.kubernetes.io/version: 4.39.13
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: authelia-0.10.49
spec:
  selector:
    matchLabels: 
      app.kubernetes.io/name: authelia
      app.kubernetes.io/instance: authelia
  revisionHistoryLimit: 5
  minReadySeconds: 0
  updateStrategy:
    type: RollingUpdate
    rollingUpdate: 
      maxUnavailable: 25%
  template:
    metadata:
      labels: 
        app.kubernetes.io/name: authelia
        app.kubernetes.io/instance: authelia
        app.kubernetes.io/version: 4.39.13
        app.kubernetes.io/managed-by: Helm
        helm.sh/chart: authelia-0.10.49
      annotations:
        authelia.com/checksum-config: c9e805c9ea15d593007a6feccfa97881fb7a2be33afe75b9b1abcd507f8522ac
        authelia.com/checksum-secret: 397a8e4b2e00067f52577d3101521cd90bdb1fe5c5c39c2d424f99e35bd59a74
    spec:
      hostNetwork: false
      hostPID: false
      hostIPC: false
      affinity: 
        nodeAffinity: {}
        podAffinity: {}
        podAntiAffinity: {}
      enableServiceLinks: false
      containers:
      - name: authelia
        image: ghcr.io/authelia/authelia:4.39.13
        imagePullPolicy: IfNotPresent
        command:
        - 'authelia'
        resources: 
          limits: {}
          requests: {}
        env:
        - name: AUTHELIA_SERVER_DISABLE_HEALTHCHECK
          value: "true"
        - name: AUTHELIA_IDENTITY_VALIDATION_RESET_PASSWORD_JWT_SECRET_FILE
          value: '/secrets/internal/identity_validation.reset_password.jwt.hmac.key'
        - name: AUTHELIA_SESSION_SECRET_FILE
          value: '/secrets/internal/session.encryption.key'
        - name: AUTHELIA_STORAGE_ENCRYPTION_KEY_FILE
          value: '/secrets/internal/storage.encryption.key'
        - name: X_AUTHELIA_CONFIG
          value: '/configuration.yaml'
        - name: X_AUTHELIA_CONFIG_FILTERS
          value: template
        startupProbe:
          failureThreshold: 6
          httpGet:
            path: /api/health
            port: http
            scheme: HTTP
          initialDelaySeconds: 10
          periodSeconds: 5
          successThreshold: 1
          timeoutSeconds: 5
        livenessProbe:
          failureThreshold: 5
          httpGet:
            path: /api/health
            port: http
            scheme: HTTP
          initialDelaySeconds: 0
          periodSeconds: 30
          successThreshold: 1
          timeoutSeconds: 5
        readinessProbe:
          failureThreshold: 5
          httpGet:
            path: /api/health
            port: http
            scheme: HTTP
          initialDelaySeconds: 0
          periodSeconds: 5
          successThreshold: 1
          timeoutSeconds: 5
        ports:
        - name: http
          containerPort: 9091
          protocol: TCP
        volumeMounts:
        - name: authelia
          mountPath: /config
          readOnly: false
        - name: config
          mountPath: /configuration.yaml
          subPath: configuration.yaml
          readOnly: true
        - name: secrets
          mountPath: /secrets/internal
          readOnly: true
      volumes:
      - name: authelia
        emptyDir:
          sizeLimit: 100Mi
      - name: config
        configMap:
          name: authelia
          items:
          - key: configuration.yaml
            path: configuration.yaml
      - name: secrets
        secret:
          secretName: authelia
          items:
          - key: identity_validation.reset_password.jwt.hmac.key
            path: identity_validation.reset_password.jwt.hmac.key
          - key: session.encryption.key
            path: session.encryption.key
          - key: storage.encryption.key
            path: storage.encryption.key
