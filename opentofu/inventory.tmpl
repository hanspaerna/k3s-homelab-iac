all:
  vars:
    ansible_user: ${cloud_init_username}
    ansible_ssh_common_args: -o StrictHostKeyChecking=no
    k3s_version: ${k3s_version}
    k3s_token: ${k3s_token}
    github_username: ${github_username}
    github_token: ${github_token}

    netbird_management_url: "https://netbird.fingol.pro"
    netbird_api_token: REPLACE_WITH_YOUR_NETBIRD_API_TOKEN

k3s:
  children:
    control_plane:
      hosts:
%{ for index, hostname in control_plane_hostnames ~}
        ${hostname}:
          ansible_host: ${control_plane_ips[index]}
%{endfor ~}

    workers:
      hosts:
%{ for index, hostname in worker_hostnames ~}
        ${hostname}:
          ansible_host: ${worker_ips[index]}
%{endfor ~}

    control_plane_external:
      hosts:
        ${control_plane_external_hostname}:
          ansible_host: ${control_plane_external_ip}

